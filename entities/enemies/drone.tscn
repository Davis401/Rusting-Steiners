[gd_scene load_steps=12 format=3 uid="uid://cmcj471u42voy"]

[ext_resource type="PackedScene" uid="uid://cyclv70ecyeu4" path="res://entities/enemies/enemy.tscn" id="1_jvhui"]
[ext_resource type="ArrayMesh" uid="uid://bn5xlfir5yhui" path="res://assets/models/drone.res" id="2_gtu8p"]
[ext_resource type="Texture2D" uid="uid://c0bmus3twmnpy" path="res://assets/models/mech_enemies_drone_texture_atlas.png" id="3_v0uag"]
[ext_resource type="Texture2D" uid="uid://dtc8y6k8e6drf" path="res://assets/particle_sprites/smoke_08.png" id="4_xy4ti"]

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_ab024"]
data = PackedVector3Array(1, 1.784, -1, 1.4776, 1.5328, 1, 0.6539, 1.784, 1, 1, 1.784, -1, 1.5596, 1.5328, -1, 1.4776, 1.5328, 1, 0, 1.9769, 1, 0, 1.6591, 1.0776, 0, 1, 1, 0, 1, 1, 0, 1.6591, 1.0776, 0, 1, 1.6926, 0, -0.6747, -1, 0.5367, -0.5834, 1, 0.6814, -0.7402, -1, 0, -0.6747, -1, 0, -0.6747, 1, 0.5367, -0.5834, 1, 0, 0.0908, -1, 1, 1, -1, 0, 1, -1.9873, 1, 1, -1, 0.6726, 0.0447, 1, 0.6539, 1, 1, 0.6726, 0.0447, 1, 0.6814, -0.7402, -1, 0.5367, -0.5834, 1, 0.6814, -0.7402, -1, 0, 0.0908, -1, 0, -0.6747, -1, 0, 0.0908, -1, 0.6726, 0.0447, 1, 1, 1, -1, 0, 0.0908, -1, 0.6814, -0.7402, -1, 0.6726, 0.0447, 1, 0, 1, -1.9873, 0, 1.9769, 1, 0, 1, 1, 0, 1, -1.9873, 0, 1.917, -1, 0, 1.9769, 1, 1, 1.784, -1, 0, 1.9769, 1, 0, 1.917, -1, 1, 1.784, -1, 0.6539, 1.784, 1, 0, 1.9769, 1, 1, 1, -1, 0, 1.917, -1, 0, 1, -1.9873, 1, 1, -1, 1, 1.784, -1, 0, 1.917, -1, 0, 1, 1.6926, 0.6539, 1.6591, 1.0776, 0.7579, 1, 1.4131, 0, 1, 1.6926, 0, 1.6591, 1.0776, 0.6539, 1.6591, 1.0776, 0, 1, 1, 0.7579, 1, 1.4131, 0.6539, 1, 1, 0, 1, 1, 0, 1, 1.6926, 0.7579, 1, 1.4131, 0.6539, 1, 1, 0.6539, 1.6591, 1.0776, 0.6539, 1.784, 1, 0.6539, 1, 1, 0.7579, 1, 1.4131, 0.6539, 1.6591, 1.0776, 0.6539, 1.784, 1, 0, 1.6591, 1.0776, 0, 1.9769, 1, 0.6539, 1.784, 1, 0.6539, 1.6591, 1.0776, 0, 1.6591, 1.0776, 0.5367, -0.5834, 1, 0, -0.0783, 1, 0.6726, 0.0447, 1, 0.5367, -0.5834, 1, 0, -0.6747, 1, 0, -0.0783, 1, 0.0021, 0.9132, 1, 0.6539, 1, 1, 0.2603, 0.9132, 1, 0.0021, 0.9132, 1, 0, 1, 1, 0.6539, 1, 1, 0.2603, 0.9132, 1, 0.6726, 0.0447, 1, 0.2127, 0.6026, 1, 0.2603, 0.9132, 1, 0.6539, 1, 1, 0.6726, 0.0447, 1, 0.0021, 0.5731, 1, 0, 1, 1, 0.0021, 0.9132, 1, 0.0021, 0.5731, 1, 0, -0.0783, 1, 0, 1, 1, 0.2127, 0.6026, 1, 0, -0.0783, 1, 0.0021, 0.5731, 1, 0.2127, 0.6026, 1, 0.6726, 0.0447, 1, 0, -0.0783, 1, 1.5392, 1, 1, 1.5596, 1.5328, -1, 1.9214, 0.6474, -1, 1.5392, 1, 1, 1.4776, 1.5328, 1, 1.5596, 1.5328, -1, 0.6539, 1.784, 1, 1.5392, 1, 1, 0.6539, 1, 1, 0.6539, 1.784, 1, 1.4776, 1.5328, 1, 1.5392, 1, 1, 1, 1, -1, 1.5448, -0.1049, -1, 1.9214, 0.6474, -1, 1, 1, -1, 0.6814, -0.7402, -1, 1.5448, -0.1049, -1, 1, 1, -1, 1.5596, 1.5328, -1, 1, 1.784, -1, 1, 1, -1, 1.9214, 0.6474, -1, 1.5596, 1.5328, -1, 0.6726, 0.0447, 1, 1.5448, -0.1049, -1, 0.6814, -0.7402, -1, 0.6726, 0.0447, 1, 1.5408, 0.0628, 1, 1.5448, -0.1049, -1, 0.6539, 1, 1, 0.6814, -0.7402, -1, 1, 1, -1, 0.6539, 1, 1, 0.6726, 0.0447, 1, 0.6814, -0.7402, -1, 1.5392, 1, 1, 0.6726, 0.0447, 1, 0.6539, 1, 1, 1.5392, 1, 1, 1.5408, 0.0628, 1, 0.6726, 0.0447, 1, 1.9214, 0.6474, -1, 1.5408, 0.0628, 1, 1.5392, 1, 1, 1.9214, 0.6474, -1, 1.5448, -0.1049, -1, 1.5408, 0.0628, 1, 0.2603, 0.9132, 1, 0.0021, 0.9132, 1.4299, 0.0021, 0.9132, 1, 0.2603, 0.9132, 1, 0.2603, 0.9132, 1.4299, 0.0021, 0.9132, 1.4299, 0.0021, 0.5731, 1.4299, 0.2603, 0.9132, 1.4299, 0.2127, 0.6026, 1.4299, 0.0021, 0.5731, 1.4299, 0.0021, 0.9132, 1.4299, 0.2603, 0.9132, 1.4299, 0.0021, 0.9132, 1, 0.0021, 0.5731, 1.4299, 0.0021, 0.5731, 1, 0.0021, 0.9132, 1, 0.0021, 0.9132, 1.4299, 0.0021, 0.5731, 1.4299, 0.0021, 0.5731, 1, 0.2127, 0.6026, 1.4299, 0.2127, 0.6026, 1, 0.0021, 0.5731, 1, 0.0021, 0.5731, 1.4299, 0.2127, 0.6026, 1.4299, 0.2127, 0.6026, 1, 0.2603, 0.9132, 1.4299, 0.2603, 0.9132, 1, 0.2127, 0.6026, 1, 0.2127, 0.6026, 1.4299, 0.2603, 0.9132, 1.4299, -1, 1.784, -1, -1.4777, 1.5328, 1, -1.5596, 1.5328, -1, -1, 1.784, -1, -0.654, 1.784, 1, -1.4777, 1.5328, 1, 0, -0.6747, -1, -0.5367, -0.5834, 1, 0, -0.6747, 1, 0, -0.6747, -1, -0.6815, -0.7402, -1, -0.5367, -0.5834, 1, 0, 0.0908, -1, -0.6815, -0.7402, -1, 0, -0.6747, -1, -0.6815, -0.7402, -1, -0.6726, 0.0447, 1, -0.5367, -0.5834, 1, -0.6726, 0.0447, 1, -1, 1, -1, -0.654, 1, 1, -1, 1, -1, 0, 0.0908, -1, 0, 1, -1.9873, 0, 0.0908, -1, -0.6726, 0.0447, 1, -0.6815, -0.7402, -1, 0, 0.0908, -1, -1, 1, -1, -0.6726, 0.0447, 1, -1, 1.784, -1, 0, 1.9769, 1, -0.654, 1.784, 1, -1, 1.784, -1, 0, 1.917, -1, 0, 1.9769, 1, -1, 1, -1, 0, 1.917, -1, -1, 1.784, -1, -1, 1, -1, 0, 1, -1.9873, 0, 1.917, -1, 0, 1, 1.6926, -0.654, 1.6591, 1.0776, 0, 1.6591, 1.0776, 0, 1, 1.6926, -0.758, 1, 1.4131, -0.654, 1.6591, 1.0776, 0, 1, 1, -0.758, 1, 1.4131, 0, 1, 1.6926, 0, 1, 1, -0.654, 1, 1, -0.758, 1, 1.4131, -0.654, 1, 1, -0.654, 1.6591, 1.0776, -0.758, 1, 1.4131, -0.654, 1, 1, -0.654, 1.784, 1, -0.654, 1.6591, 1.0776, -0.654, 1.784, 1, 0, 1.6591, 1.0776, -0.654, 1.6591, 1.0776, -0.654, 1.784, 1, 0, 1.9769, 1, 0, 1.6591, 1.0776, -0.5367, -0.5834, 1, 0, -0.0783, 1, 0, -0.6747, 1, -0.5367, -0.5834, 1, -0.6726, 0.0447, 1, 0, -0.0783, 1, -0.0021, 0.9132, 1, -0.654, 1, 1, 0, 1, 1, -0.0021, 0.9132, 1, -0.2603, 0.9132, 1, -0.654, 1, 1, -0.2603, 0.9132, 1, -0.6726, 0.0447, 1, -0.654, 1, 1, -0.2603, 0.9132, 1, -0.2128, 0.6026, 1, -0.6726, 0.0447, 1, -0.0021, 0.5731, 1, 0, 1, 1, 0, -0.0783, 1, -0.0021, 0.5731, 1, -0.0021, 0.9132, 1, 0, 1, 1, -0.2128, 0.6026, 1, 0, -0.0783, 1, -0.6726, 0.0447, 1, -0.2128, 0.6026, 1, -0.0021, 0.5731, 1, 0, -0.0783, 1, -1.5393, 1, 1, -1.5596, 1.5328, -1, -1.4777, 1.5328, 1, -1.5393, 1, 1, -1.9214, 0.6474, -1, -1.5596, 1.5328, -1, -0.654, 1.784, 1, -1.5393, 1, 1, -1.4777, 1.5328, 1, -0.654, 1.784, 1, -0.654, 1, 1, -1.5393, 1, 1, -1, 1, -1, -1.5448, -0.1049, -1, -0.6815, -0.7402, -1, -1, 1, -1, -1.9214, 0.6474, -1, -1.5448, -0.1049, -1, -1, 1, -1, -1.5596, 1.5328, -1, -1.9214, 0.6474, -1, -1, 1, -1, -1, 1.784, -1, -1.5596, 1.5328, -1, -0.6726, 0.0447, 1, -1.5448, -0.1049, -1, -1.5408, 0.0628, 1, -0.6726, 0.0447, 1, -0.6815, -0.7402, -1, -1.5448, -0.1049, -1, -0.654, 1, 1, -0.6815, -0.7402, -1, -0.6726, 0.0447, 1, -0.654, 1, 1, -1, 1, -1, -0.6815, -0.7402, -1, -1.5393, 1, 1, -0.6726, 0.0447, 1, -1.5408, 0.0628, 1, -1.5393, 1, 1, -0.654, 1, 1, -0.6726, 0.0447, 1, -1.9214, 0.6474, -1, -1.5408, 0.0628, 1, -1.5448, -0.1049, -1, -1.9214, 0.6474, -1, -1.5393, 1, 1, -1.5408, 0.0628, 1, -0.2603, 0.9132, 1, -0.0021, 0.9132, 1.4299, -0.2603, 0.9132, 1.4299, -0.2603, 0.9132, 1, -0.0021, 0.9132, 1, -0.0021, 0.9132, 1.4299, -0.0021, 0.5731, 1.4299, -0.2603, 0.9132, 1.4299, -0.0021, 0.9132, 1.4299, -0.0021, 0.5731, 1.4299, -0.2128, 0.6026, 1.4299, -0.2603, 0.9132, 1.4299, -0.0021, 0.9132, 1, -0.0021, 0.5731, 1.4299, -0.0021, 0.9132, 1.4299, -0.0021, 0.9132, 1, -0.0021, 0.5731, 1, -0.0021, 0.5731, 1.4299, -0.0021, 0.5731, 1, -0.2128, 0.6026, 1.4299, -0.0021, 0.5731, 1.4299, -0.0021, 0.5731, 1, -0.2128, 0.6026, 1, -0.2128, 0.6026, 1.4299, -0.2128, 0.6026, 1, -0.2603, 0.9132, 1.4299, -0.2128, 0.6026, 1.4299, -0.2128, 0.6026, 1, -0.2603, 0.9132, 1, -0.2603, 0.9132, 1.4299)

[sub_resource type="ORMMaterial3D" id="ORMMaterial3D_g7p82"]
shading_mode = 0
albedo_texture = ExtResource("3_v0uag")
texture_filter = 0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_ieann"]
transparency = 1
shading_mode = 0
vertex_color_use_as_albedo = true
albedo_texture = ExtResource("4_xy4ti")
billboard_mode = 3
billboard_keep_scale = true
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="Gradient" id="Gradient_ns7sa"]
offsets = PackedFloat32Array(0, 0.2, 0.6, 0.9, 1)
colors = PackedColorArray(0, 0, 0, 1, 0, 0, 0, 1, 0.8875, 0.8875, 0.8875, 1, 1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_1ngmd"]
gradient = SubResource("Gradient_ns7sa")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_wifdt"]
angle_max = 720.0
direction = Vector3(0, 0, -1)
spread = 15.0
initial_velocity_min = 1.0
initial_velocity_max = 3.0
gravity = Vector3(0, 1, 0)
color_ramp = SubResource("GradientTexture1D_1ngmd")

[sub_resource type="QuadMesh" id="QuadMesh_a7wfl"]

[node name="Drone" instance=ExtResource("1_jvhui")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)
motion_mode = 1

[node name="CollisionShape3D" parent="." index="4"]
transform = Transform3D(-0.5, 0, -4.37114e-08, 0, 0.5, 0, 4.37114e-08, 0, -0.5, 0, 0, 0)
shape = SubResource("ConcavePolygonShape3D_ab024")

[node name="Graphics" parent="." index="5"]
transform = Transform3D(-0.5, 0, -4.37114e-08, 0, 0.5, 0, 4.37114e-08, 0, -0.5, 0, 0, 0)

[node name="MeshInstance3D" parent="Graphics" index="0"]
transform = Transform3D(1, 0, -1.74846e-07, 0, 1, 0, 1.74846e-07, 0, 1, 0, 0, 0)
mesh = ExtResource("2_gtu8p")
surface_material_override/0 = SubResource("ORMMaterial3D_g7p82")

[node name="MeshInstance3D2" parent="Graphics" index="1"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.546147)

[node name="OmniLight3D" type="OmniLight3D" parent="Graphics/MeshInstance3D2" index="0"]
visible = false
light_color = Color(1, 0, 0, 1)
light_energy = 16.0
omni_range = 1.0

[node name="GPUParticles3D" type="GPUParticles3D" parent="Graphics" index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, 0, -1.22569)
material_override = SubResource("StandardMaterial3D_ieann")
amount = 16
lifetime = 3.0
speed_scale = 2.0
process_material = SubResource("ParticleProcessMaterial_wifdt")
draw_pass_1 = SubResource("QuadMesh_a7wfl")

[node name="GPUParticles3D2" type="GPUParticles3D" parent="Graphics" index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.5, 0, -1.22569)
material_override = SubResource("StandardMaterial3D_ieann")
amount = 16
lifetime = 3.0
speed_scale = 2.0
process_material = SubResource("ParticleProcessMaterial_wifdt")
draw_pass_1 = SubResource("QuadMesh_a7wfl")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="Graphics" index="4"]

[node name="AttackEmitter" parent="." index="8"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.589843)
